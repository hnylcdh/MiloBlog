---
title: 商户自研营销系统如何与百度和微信小程序打通
comments: true
top: false
date: 2021-02-08 15:05:22
tags: 
- 优惠券
categories:
- 产品设计
updated:
---

以前我们只有APP或者H5，因此内部系统都是围绕APP/H5进行开发，例如运营系统、基础服务系统、优惠券系统；近期上线了百度和微信小程序，两个平台都有各自的券对接文档，但基本对接接口这么几个：

<!-- more -->

- 创建卡券
- 投放卡券
- 同步卡券至券包
- 核销券
- 管理卡券

基本接口我们都会对接，但是关于如何处理内部券系统与第三方券系统的关系进行了讨论后，得出了以下的方案：

1. 优惠券从内部系统创建，创建时需要选择生效的平台(自有平台、百度、微信)，优惠券的号码已内部系统为准
2. 优惠券创建后根据生效平台进行生效，如是百度/微信平台的，则通过接口在它们平台创建优惠券
3. 优惠券通过日常运营或者活动发放，用户领取后会同步到平台的卡券包内，用户可以直接从卡券包点击使用
4. 如果是多平台生效的，用户不论在哪个平台登录到我们账户体系中，都能使用，使用后其他平台的券都会收到已核销的通知，对券进行“已核销”处理。
5. 所有优惠券使用时都会到我们优惠券系统中进行券状态查询，即使用户点击使用时是可用，但是当券查询后状态是已核销，那是无法提交订单的，这样杜绝了刷优惠券的漏洞，这会对用户体验存在一点点影响，但不大，毕竟一般用户在一个平台用后，不会立即去其他平台继续用，所以有时间让系统进行券状态通知的处理。